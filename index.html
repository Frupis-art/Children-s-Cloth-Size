<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <style>
/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
:root {
    --primary: #4361ee;
    --secondary: #3f37c9;
    --success: #4cc9f0;
    --danger: #f72585;
    --light: #f8f9fa;
    --dark: #212529;
    --gray: #6c757d;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f0f2f5;
    color: var(--dark);
    line-height: 1.6;
    padding: 20px;
    overflow-x: hidden;
}

.container {
    max-width: 100%;
    margin: 0 auto;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    margin-bottom: 20px;
    border-bottom: 1px solid #dee2e6;
    flex-wrap: wrap;
}

.auth-section {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
}

#email, #password {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    min-width: 150px;
}

button {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: 8px 12px;
    font-size: 0.9rem;
    border-radius: 5px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.3s;
}

button:hover {
    background-color: var(--secondary);
}

.btn-danger {
    background-color: var(--danger);
}

.btn-success {
    background-color: #2ecc71;
}

#logoutBtn {
    display: none;
    background-color: #e74c3c;
}

/* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–µ—Ç–µ–π */
.children-grid {
    display: flex;
    overflow-x: auto;
    padding-bottom: 20px; /* –£–≤–µ–ª–∏—á–∏–ª–∏ –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    scrollbar-width: thick; /* –¢–æ–ª—â–∏–Ω–∞ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
    scrollbar-color: var(--primary) #f0f0f0;
    -webkit-overflow-scrolling: touch;
    gap: 15px;
}

.children-grid::-webkit-scrollbar {
    height: 12px;
}

.children-grid::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 6px;
}

.children-grid::-webkit-scrollbar-thumb {
    background-color: var(--primary);
    border-radius: 6px;
}

/* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–±–µ–Ω–∫–∞ */
.child-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    padding: 12px; /* —É–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã */
    min-width: 220px; /* –±—ã–ª–æ 280px */
    max-width: 260px; /* –¥–æ–±–∞–≤–ª—è–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —à–∏—Ä–∏–Ω–µ */
    flex: 0 0 auto;
    scroll-snap-align: start;
    display: flex;
    flex-direction: column;
}

.card-header {
    display: flex;
    flex-direction: column;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.child-name {
    font-size: 1.3rem;
    font-weight: 600;
}

.gender-badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 20px;
    font-size: 0.85rem;
    margin-top: 5px;
    align-self: flex-start;
}

.boy {
    background-color: #d1ecff;
    color: #0a58ca;
}

.girl {
    background-color: #f8d7da;
    color: #b02a37;
}

.child-info {
    margin-bottom: 10px;
    color: var(--gray);
    font-size: 0.9rem;
    display: flex;
    justify-content: space-between;
}

.age-info {
    font-weight: bold;
    color: #2c3e50;
    margin-left: 10px;
}

/* –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã */
.params-container {
    display: flex;
    flex-direction: column;
    gap: 6px; /* —É–º–µ–Ω—å—à–∞–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
    margin-bottom: 10px; /* —É–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø */
}

.param-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2px; /* –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø */
}

.param-label {
    flex: 1;
    text-align: left;
    font-size: 0.8rem; /* —É–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç */
    white-space: nowrap; /* –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å */
    overflow: hidden;
    text-overflow: ellipsis;
    padding-right: 5px;
}

.param-value {
    width: 70px; /* –±—ã–ª–æ 90px */
    padding: 5px; /* —É–º–µ–Ω—å—à–∞–µ–º padding */
    border: 1px solid #ddd;
    border-radius: 5px;
    text-align: right;
    font-size: 0.85rem; /* —É–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç */
    background-color: #f9f9f9;
}

.add-param-btn {
    background-color: #e9ecef;
    color: var(--dark);
    border: none;
    padding: 6px 10px;
    border-radius: 5px;
    cursor: pointer;
    margin: 10px 0;
    font-size: 0.9rem;
    text-align: center;
}

.save-btn {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    margin-top: 5px;
}

/* –°—Ç–∏–ª–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø–∏—Å–µ–π */
.history-section {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.history-title {
    font-size: 0.85rem; /* —É–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä */
    margin-bottom: 8px;
    font-weight: 600;
    color: #555;
}

.history-item {
    background: #f8f9fa;
    border-left: 4px solid var(--primary);
    padding: 4px 6px;
    margin-bottom: 4px;
    border-radius: 0 5px 5px 0;
    cursor: pointer;
    transition: all 0.2s;
}

.history-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}


.history-date {
    font-weight: 600;
    flex-grow: 1;
    font-size: 0.78rem; /* —É–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä */
    font-weight: 500; /* –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –∂–∏—Ä–Ω–æ—Å—Ç—å */
}

.delete-history-btn {
    background: none;
    border: none;
    color: var(--danger);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 5px;
    margin-left: 10px;
}

.history-details {
    display: none;
    padding-top: 10px;
    overflow: hidden;
    max-height: 0;
    transition: max-height 0.3s ease-out, padding 0.3s ease-out;
}

.history-details[style*="block"] {
    display: block;
    max-height: 500px;
    padding-top: 10px;
}

@keyframes fadeIn {
    from { opacity: 0; max-height: 0; }
    to { opacity: 1; max-height: 500px; }
}

.history-params {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 8px;
    font-size: 0.75rem;
    color: var(--gray);
}

.history-params .param-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2px;
}

.history-params .param-label {
    font-weight: 500;
    margin-right: 5px;
}

.history-params .param-value {
    font-weight: 600;
}

.history-params .param-label,
.history-params .param-value {
    font-size: 0.75rem; /* —É–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ */
}

/* –°—Ç–∏–ª—å –¥–ª—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è */

.birth-info {
    margin-bottom: 12px;
}

.birthdate {
    color: #666;
    font-size: 0.85rem;
    text-align: left;
}

/* –°—Ç–∏–ª—å –¥–ª—è –≤–æ–∑—Ä–∞—Å—Ç–∞ */
.age-info {
    color: #444;
    font-size: 0.8rem;
    font-weight: 500;
    text-align: left;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è */
.delete-history-btn {
    font-size: 1.0rem;
}
/* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    border-radius: 12px;
    padding: 15px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.2);
}

.modal-title {
    font-size: 1.3rem;
    margin-bottom: 15px;
    text-align: center;
}

.form-group {
    margin-bottom: 15px;
}

.form-label {
    display: block;
    margin-bottom: 6px;
    font-weight: 500;
}

.form-input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
}

.radio-group {
    display: flex;
    gap: 15px;
    margin-top: 8px;
}

.radio-label {
    display: flex;
    align-items: center;
    gap: 5px;
    cursor: pointer;
}

.modal-buttons {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.modal-buttons button {
    flex: 1;
}

.add-child-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    background-color: #4361ee;
    color: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    border: none;
    cursor: pointer;
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 100;
}

.icon-controls {
    display: flex;
    justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ */
    gap: 15px; /* –£–≤–µ–ª–∏—á–∏–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ */
    margin: 15px 0;
    align-items: center;
}

.icon-btn {
    /* –†–∞–∑–º–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞ */
    width: 35px;
    height: 35px;
    
    /* –°–±—Ä–æ—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∫–Ω–æ–ø–∫–∏ */
    padding: 0;
    margin: 0;
    border: none;
    
    /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* –°—Ç–∏–ª–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ */
    background-color: #f0f2f5;
    color: #212529;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    
    /* –ì–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
    min-width: 35px !important;
    min-height: 35px !important;
    max-width: 35px !important;
    max-height: 35px !important;
    border-radius: 50% !important;
    line-height: 1;
    overflow: hidden; /* –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ */
    line-height: 1; /* –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ */
}

.icon-btn:hover {
    background-color: #e0e0e0; /* –°–ª–µ–≥–∫–∞ —Ç–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

.history-age {
    font-weight: bold;
    margin-bottom: 6px;
    color: #4361ee;
    font-size: 0.8rem;
    text-align: center;
}

.param-row.full-width {
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px dashed #eee;
}

/* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç—å–º–∏ */
.children-management {
    min-width: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 15px;
    margin-left: 10px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 100;
}

.children-controls {
    display: flex;
    flex-direction: column; /* –ö–Ω–æ–ø–∫–∏ –¥—Ä—É–≥ –ø–æ–¥ –¥—Ä—É–≥–æ–º */
    gap: 15px;
    height: 100%;
    justify-content: center;
}

.child-control-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #4361ee;
    color: white;
    font-size: 1.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: all 0.3s;
}


#removeChildBtn {
    background-color: #f72585;
}

.child-control-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}

#removeChildBtn:hover {
    background-color: #e01e75;
}

/* –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –ø–ª–∞–≤–∞—é—â—É—é –∫–Ω–æ–ø–∫—É */
.add-child-btn {
    display: none !important;
}

.child-card.active {
    background-color: #f0f7ff;
    box-shadow: 0 1px 10px rgba(67, 97, 238, 0.3);
    border: 2px solid #4361ee;
    transform: translateY(3px);
    transition: all 0.05s ease;
    z-index: 5;
}


.child-control-btn::after {
    content: attr(title);
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
}

.child-control-btn:hover::after {
    opacity: 1;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
.child-control-card {
        /* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —á—Ç–æ –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—É–¥–µ—Ç –≤ –æ–¥–Ω–æ–º —Ä—è–¥—É */
    flex-shrink: 0;
    /* –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    min-width: 150px;
    max-width: 150px;
    /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
    display: flex;
    align-items: center;
    justify-content: center;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    padding: 12px;
    height: 150px; /* –§–∏–∫—Å–∏—Ä—É–µ–º –≤—ã—Å–æ—Ç—É */
    flex: 0 0 auto;
    border: 2px dashed #e0e0e0;
    margin-left: 15px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ */
    align-self: center; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
}


.child-control-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(67, 97, 238, 0.4);
}

#removeChildBtn {
    background-color: #f72585;
}

#removeChildBtn:hover {
    background-color: #e01e75;
}

.zodiac-info {
    color: #2ecc71; /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç */
    font-size: 0.75rem;
    font-weight: 300; /* –¢–æ–Ω–∫–∏–π —à—Ä–∏—Ñ—Ç */
    text-transform: lowercase; /* –í—Å–µ –±—É–∫–≤—ã —Å—Ç—Ä–æ—á–Ω—ã–µ */
}
/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 480px) {
    .child-control-card {
        min-width: 120px;
        height: 120px;
    }
    
    .child-control-btn {
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
    }
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 360px) {
    .icon-btn {
        width: 30px;
        height: 30px;
        font-size: 0.9rem;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–î–µ—Ç—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã üìè</h1>
            <div class="auth-section">
                <input type="email" id="email" placeholder="–í–∞—à email" class="form-input">
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" class="form-input">
                <button id="loginBtn">–í–æ–π—Ç–∏</button>
                <button id="registerBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                <button id="logoutBtn" class="hidden">–í—ã–π—Ç–∏</button>
            </div>
        </header>
        
<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–µ—Ç—å–º–∏ -->
<div id="childrenContainer" class="children-grid">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–µ—Ç–µ–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
    
    <!-- –ë–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ -->
    <div class="child-control-card">
        <div class="children-controls">
            <button id="removeChildBtn" class="child-control-btn" title="–£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞">-</button>
            <button id="addChildBtn" class="child-control-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫–∞">+</button>
        </div>
    </div>
</div>
        
        <div class="modal" id="addChildModal">
            <div class="modal-content">
                <h2 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫–∞</h2>
                <div class="form-group">
                    <label class="form-label">–ò–º—è</label>
                    <input type="text" id="childName" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <input type="date" id="childBirthdate" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü–æ–ª</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="gender" value="boy" checked> –ú–∞–ª—å—á–∏–∫
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="gender" value="girl"> –î–µ–≤–æ—á–∫–∞
                        </label>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button id="cancelAddChild">–û—Ç–º–µ–Ω–∞</button>
                    <button id="saveChild" class="btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="addParamModal">
            <div class="modal-content">
                <h2 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä</h2>
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞</label>
                    <input type="text" id="paramName" class="form-input" required>
                </div>
                <div class="modal-buttons">
                    <button id="cancelAddParam">–û—Ç–º–µ–Ω–∞</button>
                    <button id="saveParam" class="btn-success">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>
    <script>
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase
const firebaseConfig = {
  apiKey: "AIzaSyBqS5DoB0bHqgPcrCEBCq4NFTrhBAIJsVM",
  authDomain: "childrens-cloth-size.firebaseapp.com",
  projectId: "childrens-cloth-size",
  storageBucket: "childrens-cloth-size.firebasestorage.app",
  messagingSenderId: "602457850693",
  appId: "1:602457850693:web:7febcbb31ddca8730b742c"
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const childrenContainer = document.getElementById('childrenContainer');
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const loginBtn = document.getElementById('loginBtn');
const registerBtn = document.getElementById('registerBtn');
const logoutBtn = document.getElementById('logoutBtn');
const addChildBtn = document.getElementById('addChildBtn');
const addChildModal = document.getElementById('addChildModal');
const addParamModal = document.getElementById('addParamModal');
const saveChildBtn = document.getElementById('saveChild');
const cancelAddChild = document.getElementById('cancelAddChild');
const saveParamBtn = document.getElementById('saveParam');
const cancelAddParam = document.getElementById('cancelAddParam');
        // –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –¥–∞–Ω–Ω—ã–µ
let currentUser = null;
let childrenData = {};
let currentChildIdForParam = null;

        // –ó–Ω–∞–∫–∏ –∑–æ–¥–∏–∞–∫–∞ –∏ –≥–æ–¥–∞
        const zodiacSigns = [
            "–ö–æ–∑–µ—Ä–æ–≥", "–í–æ–¥–æ–ª–µ–π", "–†—ã–±—ã", "–û–≤–µ–Ω", 
            "–¢–µ–ª–µ—Ü", "–ë–ª–∏–∑–Ω–µ—Ü—ã", "–†–∞–∫", "–õ–µ–≤", 
            "–î–µ–≤–∞", "–í–µ—Å—ã", "–°–∫–æ—Ä–ø–∏–æ–Ω", "–°—Ç—Ä–µ–ª–µ—Ü"
        ];
        
        const chineseZodiac = [
            "–ö—Ä—ã—Å–∞", "–ë—ã–∫", "–¢–∏–≥—Ä", "–ö—Ä–æ–ª–∏–∫", 
            "–î—Ä–∞–∫–æ–Ω", "–ó–º–µ—è", "–õ–æ—à–∞–¥—å", "–ö–æ–∑–∞", 
            "–û–±–µ–∑—å—è–Ω–∞", "–ü–µ—Ç—É—Ö", "–°–æ–±–∞–∫–∞", "–°–≤–∏–Ω—å—è"
        ];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
function init() {
    setupEventListeners();
    checkAuthState();
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é –∫–Ω–æ–ø–∫—É –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
document.getElementById('addChildBtn').addEventListener('click', () => {
    addChildModal.style.display = 'flex';
});
    
document.getElementById('removeChildBtn').addEventListener('click', deleteActiveChild);}

       // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
function deleteActiveChild() {
    if (!currentActiveChildId || !childrenData[currentActiveChildId]) {
        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–±–µ–Ω–∫–∞, –∫–ª–∏–∫–Ω—É–≤ –Ω–∞ –µ–≥–æ –∫–∞—Ä—Ç–æ—á–∫—É');
        return;
    }
    
    if (confirm(`–£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ä–µ–±–µ–Ω–∫–µ "${childrenData[currentActiveChildId].name}"?`)) {
        deleteChild(currentActiveChildId);
        currentActiveChildId = null;
    }
}
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
function setupEventListeners() {
    cancelAddChild.addEventListener('click', () => addChildModal.style.display = 'none');
    saveChildBtn.addEventListener('click', saveChild);
    cancelAddParam.addEventListener('click', () => addParamModal.style.display = 'none');
    saveParamBtn.addEventListener('click', saveCustomParam);
    loginBtn.addEventListener('click', login);
    registerBtn.addEventListener('click', register);
    logoutBtn.addEventListener('click', logout);
}

        
        // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
function checkAuthState() {
    auth.onAuthStateChanged(user => {
        if (user) {
            currentUser = user;
            emailInput.style.display = 'none';
            passwordInput.style.display = 'none';
            loginBtn.style.display = 'none';
            registerBtn.style.display = 'none';
            logoutBtn.style.display = 'block';
            
            // –ü–û–ö–ê–ó–´–í–ê–ï–ú –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            document.querySelector('.child-control-card').style.display = 'flex';
            loadChildrenData();
        } else {
            currentUser = null;
            emailInput.style.display = 'block';
            passwordInput.style.display = 'block';
            loginBtn.style.display = 'block';
            registerBtn.style.display = 'block';
            logoutBtn.style.display = 'none';
            
            // –°–ö–†–´–í–ê–ï–ú –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –æ—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            document.querySelector('.child-control-card').style.display = 'none';
            childrenContainer.innerHTML = '<p>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ</p>';
        }
    });
}
        
// –§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞
function login() {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();
    
    if (!isValidEmail(email)) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å");
        return;
    }
    
    if (password.length < 6) {
        alert("–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤");
        return;
    }
    
    const originalText = loginBtn.textContent;
    loginBtn.disabled = true;
    loginBtn.textContent = '–í—Ö–æ–¥...';
    
    auth.signInWithEmailAndPassword(email, password)
        .catch(error => {
            console.error("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:", error);
            passwordInput.value = '';
            alert(`–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ${error.message}`);
            loginBtn.disabled = false;
            loginBtn.textContent = originalText;
        });
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
function logout() {
    auth.signOut()
        .then(() => {
            console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª");
        })
        .catch(error => {
            console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ:", error);
            alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ: " + error.message);
        });
}

// –í–∞–ª–∏–¥–∞—Ü–∏—è email
function isValidEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
}

// ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
// –§—É–Ω–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
// –§—É–Ω–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
function register() {
    const email = emailInput.value;
    const password = passwordInput.value;
    
    if (!email || !password) {
        alert("–í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å");
        return;
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
    const originalText = registerBtn.textContent;
    
    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç
    registerBtn.disabled = true;
    registerBtn.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...';
    
    auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
            console.log("User registered:", userCredential.user.uid);
            alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            registerBtn.disabled = false;
            registerBtn.textContent = originalText;
        })
        .catch(error => {
            console.error("Registration error:", error);
            alert(`–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ${error.message}`);
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            registerBtn.disabled = false;
            registerBtn.textContent = originalText;
        });
}

        
        // –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–µ—Ç–µ–π
// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è loadChildrenData
async function loadChildrenData() {
    if (!currentUser) return;
    
    try {
        const snapshot = await db.collection('children')
            .where('userId', '==', currentUser.uid)
            .get();
        
        childrenData = {};
        
        // –£–¥–∞–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–µ—Ç–µ–π, –æ—Å—Ç–∞–≤–ª—è—è –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        const childCards = childrenContainer.querySelectorAll('.child-card');
        childCards.forEach(card => card.remove());
        
        const children = [];
        snapshot.forEach(doc => {
            // –ë–∞–∑–æ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            const childData = doc.data();
            childData.customParams = childData.customParams || {};
            children.push({
                id: doc.id,
                data: childData
            });
        });
        
        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–µ—Ç–µ–π –ø–æ –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è
        children.sort((a, b) => {
            try {
                const dateA = new Date(a.data.birthdate);
                const dateB = new Date(b.data.birthdate);
                return dateB - dateA;
            } catch (e) {
                return 0;
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
        for (const child of children) {
            const childData = child.data;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            childData.params = childData.params || {
                height: '',
                weight: '',
                shoeSize: '',
                clothingSize: ''
            };
            
            childData.customParams = childData.customParams || {};
            childData.records = childData.records || [];
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏, –ø–æ–ø—Ä–æ–±—É–µ–º –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π
            if (childData.records.length > 0) {
                try {
                    // –ù–∞–π–¥–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å –±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
                    let latestRecord = null;
                    let latestDate = 0;
                    
                    for (const record of childData.records) {
                        try {
                            const recordDate = new Date(record.date).getTime();
                            if (recordDate > latestDate) {
                                latestDate = recordDate;
                                latestRecord = record;
                            }
                        } catch (e) {
                            console.warn("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞—Ç—ã –∑–∞–ø–∏—Å–∏", e);
                        }
                    }
                    
                    // –û–±–Ω–æ–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø–∏—Å–∏
                    if (latestRecord) {
                        if (latestRecord.params) {
                            for (const key in latestRecord.params) {
                                if (Object.hasOwnProperty.call(latestRecord.params, key)) {
                                    childData.params[key] = latestRecord.params[key];
                                }
                            }
                        }
                        
                        if (latestRecord.customParams) {
                            for (const key in latestRecord.customParams) {
                                if (Object.hasOwnProperty.call(latestRecord.customParams, key)) {
                                    childData.customParams[key] = latestRecord.customParams[key];
                                }
                            }
                        }
                    }
                } catch (e) {
                    console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø–∏—Å–µ–π –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞", child.id, e);
                }
            }
            
            childrenData[child.id] = childData;
            renderChildCard(child.id, childData);
        }
        
if (children.length === 0) {
    const message = document.createElement('p');
    message.textContent = '–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞';
    message.style.padding = '20px';
    message.style.textAlign = 'center';
    
    // –í—Å—Ç–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    const controlCard = document.querySelector('.child-control-card');
    childrenContainer.insertBefore(message, controlCard);
}

    } catch (error) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ—Ç–µ–π:", error);
        alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');
    }
}
        
function saveChild() {
  if (!currentUser || !currentUser.uid) {
    alert("–û—à–∏–±–∫–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω");
    return;
  }
  
  const name = document.getElementById('childName').value;
  const birthdate = document.getElementById('childBirthdate').value;
  const gender = document.querySelector('input[name="gender"]:checked').value;
  
  if (!name || !birthdate) {
    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
    return;
  }
  
  const childData = {
    name,
    birthdate,
    gender,
    userId: currentUser.uid,
    params: {
      height: '',
      weight: '',
      shoeSize: '',
      clothingSize: ''
    },
    customParams: {},
    records: []
  };
  
  db.collection('children').add(childData)
    .then(docRef => {
      console.log("Child saved with ID:", docRef.id);
      
      // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±–µ–Ω–∫–∞ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
      childrenData[docRef.id] = childData;
      
      // –†–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—Ç–æ—á–∫—É
      renderChildCard(docRef.id, childData);
      
      // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
      addChildModal.style.display = 'none';
      
      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º—ã
      document.getElementById('childName').value = '';
      document.getElementById('childBirthdate').value = '';
      
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–æ–≤–æ–º—É —Ä–µ–±–µ–Ω–∫—É (–∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–∞–º–∏)
setTimeout(() => {
    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –±–ª–æ–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å–ø—Ä–∞–≤–∞)
    childrenContainer.scrollTo({
        left: childrenContainer.scrollWidth,
        behavior: 'smooth'
    });
}, 300);
        })
    .catch(error => {
      console.error("Full save error:", error);
      alert(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ${error.message}`);
    });
}


let currentActiveChildId = null;       
function renderChildCard(childId, childData) {
    const card = document.createElement('div');
    card.className = 'child-card';
    card.dataset.childId = childId;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    childData.params = childData.params || {};
    childData.customParams = childData.customParams || {};
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
    card.addEventListener('click', function() {
        document.querySelectorAll('.child-card').forEach(c => {
            c.classList.remove('active');
        });
        card.classList.add('active');
        currentActiveChildId = childId;
    });
    
    // –†–∞—Å—Å—á–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞
    const today = new Date();
    const birthDate = new Date(childData.birthdate);
    let years = today.getFullYear() - birthDate.getFullYear();
    let months = today.getMonth() - birthDate.getMonth();
    let days = today.getDate() - birthDate.getDate();
    
    if (days < 0) {
        months--;
        days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
    }
    
    if (months < 0) {
        years--;
        months += 12;
    }
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤–æ–∑—Ä–∞—Å—Ç
    const formattedAge = formatAge(years, months, days);
    
    card.innerHTML = `
<div class="card-header">
    <div class="child-name">${childData.name}</div>
    <div style="display: flex; align-items: center; gap: 5px; margin-top: 5px;">
        <span class="gender-badge ${childData.gender}">
            ${childData.gender === 'boy' ? '‚ôÇ' : '‚ôÄ'}
        </span>
        <span class="zodiac-info">
            ${getZodiacSign(birthDate)}, ${getChineseZodiac(birthDate.getFullYear())}
        </span>
    </div>
</div> 

<!-- –î–ê–¢–ê –ò –í–û–ó–†–ê–°–¢ -->
<div class="birth-info">
    <div class="birthdate">${formatDate(birthDate)}</div>
    <div class="age-info">${formattedAge}</div>
</div>

<!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
<div class="params-container">
    <div class="param-row">
        <div class="param-label">–†–æ—Å—Ç</div>
        <input type="text" class="param-value" data-param="height" value="${childData.params.height || ''}">
    </div>
    
    <div class="param-row">
        <div class="param-label">–í–µ—Å</div>
        <input type="text" class="param-value" data-param="weight" value="${childData.params.weight || ''}">
    </div>
    
    <div class="param-row">
        <div class="param-label">–û–±—É–≤—å</div>
        <input type="text" class="param-value" data-param="shoeSize" value="${childData.params.shoeSize || ''}">
    </div>
    
    <div class="param-row">
        <div class="param-label">–û–¥–µ–∂–¥–∞</div>
        <input type="text" class="param-value" data-param="clothingSize" value="${childData.params.clothingSize || ''}">
    </div>
        <div id="customParams-${childId}"></div>
</div>
    
<div class="icon-controls">
    <button class="icon-btn" data-child-id="${childId}" title="–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä">
        +
    </button>
    <button class="icon-btn" data-child-id="${childId}" title="–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä">
        -
    </button>
    <button class="icon-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å">
        üíæ
    </button>
</div>

    
    <div class="history-section">
        <div class="history-title">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π</div>
        <div id="history-${childId}">
            <!-- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
        </div>
    </div>
    `;
    
    // –í—Å—Ç–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –ø–µ—Ä–µ–¥ –±–ª–æ–∫–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    const controlCard = document.querySelector('.child-control-card');
    childrenContainer.insertBefore(card, controlCard);
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    renderCustomParams(childId, childData.customParams);
    renderHistory(childId, childData.records);
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    card.querySelector('.icon-btn:nth-child(3)').addEventListener('click', () => {
        saveRecord(childId).then(() => {
            renderHistory(childId, childrenData[childId].records);
        });
    });
    
    card.querySelector('.icon-btn:nth-child(1)').addEventListener('click', (e) => {
        currentChildIdForParam = e.target.closest('.icon-btn').dataset.childId;
        addParamModal.style.display = 'flex';
    });
    
    card.querySelector('.icon-btn:nth-child(2)').addEventListener('click', (e) => {
        currentChildIdForParam = e.target.closest('.icon-btn').dataset.childId;
        removeLastCustomParam(currentChildIdForParam);
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    card.querySelectorAll('.param-value').forEach(input => {
        input.addEventListener('input', () => {
            if (childrenData[childId] && childrenData[childId].params) {
                childrenData[childId].params[input.dataset.param] = input.value;
            }
        });
    });
    
    card.classList.add('new-card');
    setTimeout(() => {
        card.classList.remove('new-card');
    }, 300);
}

// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞
function formatAge(years, months, days) {
    const parts = [];
    if (years > 0) parts.push(`${years} ${getRussianWordForm(years, ['–≥–æ–¥', '–≥–æ–¥–∞', '–ª–µ—Ç'])}`);
    if (months > 0) parts.push(`${months} ${getRussianWordForm(months, ['–º–µ—Å—è—Ü', '–º–µ—Å—è—Ü–∞', '–º–µ—Å—è—Ü–µ–≤'])}`);
    if (days > 0) parts.push(`${days} ${getRussianWordForm(days, ['–¥–µ–Ω—å', '–¥–Ω—è', '–¥–Ω–µ–π'])}`);
    
    return parts.join(', ');
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫–ª–æ–Ω–µ–Ω–∏—è —Å–ª–æ–≤
function getRussianWordForm(number, forms) {
    const cases = [2, 0, 1, 1, 1, 2];
    return forms[
        (number % 100 > 4 && number % 100 < 20) 
            ? 2 
            : cases[(number % 10 < 5) ? number % 10 : 5]
    ];
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞
function getZodiacSign(birthDate) {
    const day = birthDate.getDate();
    const month = birthDate.getMonth() + 1;
    
    const signs = [
        {name: "–ö–æ–∑–µ—Ä–æ–≥", start: [12, 22], end: [1, 19]},
        {name: "–í–æ–¥–æ–ª–µ–π", start: [1, 20], end: [2, 18]},
        {name: "–†—ã–±—ã", start: [2, 19], end: [3, 20]},
        {name: "–û–≤–µ–Ω", start: [3, 21], end: [4, 19]},
        {name: "–¢–µ–ª–µ—Ü", start: [4, 20], end: [5, 20]},
        {name: "–ë–ª–∏–∑–Ω–µ—Ü—ã", start: [5, 21], end: [6, 20]},
        {name: "–†–∞–∫", start: [6, 21], end: [7, 22]},
        {name: "–õ–µ–≤", start: [7, 23], end: [8, 22]},
        {name: "–î–µ–≤–∞", start: [8, 23], end: [9, 22]},
        {name: "–í–µ—Å—ã", start: [9, 23], end: [10, 22]},
        {name: "–°–∫–æ—Ä–ø–∏–æ–Ω", start: [10, 23], end: [11, 21]},
        {name: "–°—Ç—Ä–µ–ª–µ—Ü", start: [11, 22], end: [12, 21]}
    ];
    
    for (const sign of signs) {
        if ((month === sign.start[0] && day >= sign.start[1]) || 
            (month === sign.end[0] && day <= sign.end[1])) {
            return sign.name.toLowerCase();
        }
    }
    
    return "";
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ –∑–æ–¥–∏–∞–∫–∞
function getChineseZodiac(year) {
    const startYear = 1924; // –ì–æ–¥ –∫—Ä—ã—Å—ã
    const animals = ["–∫—Ä—ã—Å–∞", "–±—ã–∫", "—Ç–∏–≥—Ä", "–∫—Ä–æ–ª–∏–∫", "–¥—Ä–∞–∫–æ–Ω", "–∑–º–µ—è", 
                    "–ª–æ—à–∞–¥—å", "–∫–æ–∑–∞", "–æ–±–µ–∑—å—è–Ω–∞", "–ø–µ—Ç—É—Ö", "—Å–æ–±–∞–∫–∞", "—Å–≤–∏–Ω—å—è"];
    
    const index = (year - startYear) % 12;
    return index >= 0 ? animals[index] : animals[12 + index];
}


      function deleteChild(childId) {
    db.collection('children').doc(childId).delete()
        .then(() => {
            // –£–¥–∞–ª—è–µ–º –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            delete childrenData[childId];
            
            // –£–¥–∞–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            const card = document.querySelector(`.child-card[data-child-id="${childId}"]`);
            if (card) card.remove();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
            if (currentActiveChildId === childId) {
                currentActiveChildId = null;
            }
            
            // –ï—Å–ª–∏ –¥–µ—Ç–µ–π –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å, –ø–æ–∫–∞–∂–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            if (Object.keys(childrenData).length === 0) {
                childrenContainer.innerHTML = '<p>–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–±–µ–Ω–∫–∞, –Ω–∞–∂–∞–≤ "+"</p>';
            }
        })
        .catch(error => {
            console.error("–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞:", error);
            alert(`–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ${error.message}`);
        });
}

function removeLastCustomParam(childId) {
    if (!childId || !childrenData[childId] || !childrenData[childId].customParams) return;
    
    const customParams = childrenData[childId].customParams;
    const paramKeys = Object.keys(customParams);
    
    if (paramKeys.length === 0) {
        alert('–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è');
        return;
    }
    
    const lastParam = paramKeys[paramKeys.length - 1];
    
    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
    if (!confirm(`–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä "${lastParam}"?`)) return;
    
    // –£–¥–∞–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω–æ
    delete childrenData[childId].customParams[lastParam];
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    renderCustomParams(childId, childrenData[childId].customParams);
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    db.collection('children').doc(childId).update({
        [`customParams.${lastParam}`]: firebase.firestore.FieldValue.delete()
    })
    .then(() => console.log(`–ü–∞—Ä–∞–º–µ—Ç—Ä "${lastParam}" —É–¥–∞–ª–µ–Ω`))
    .catch(error => alert(`–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ${error.message}`));
}

        function renderCustomParams(childId, customParams) {
    const container = document.getElementById(`customParams-${childId}`);
    if (!container) {
        console.error("–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω!");
        return; // –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç
    }
            container.innerHTML = '';
            
            for (const [paramName, paramValue] of Object.entries(customParams)) {
                const paramHtml = `
                    <div class="param-row">
                        <div class="param-label">${paramName}</div>
                        <input type="text" class="param-value" 
                               data-custom-param="${paramName}" 
                               value="${paramValue || ''}">
                    </div>
                `;
                container.innerHTML += paramHtml;
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
            container.querySelectorAll('.param-value').forEach(input => {
                input.addEventListener('input', () => {
                    childrenData[childId].customParams[input.dataset.customParam] = input.value;
                });
            });
        }
        
        function saveCustomParam() {
            const paramName = document.getElementById('paramName').value;
            
            if (!paramName) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞');
                return;
            }
            
            if (!currentChildIdForParam) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
            childrenData[currentChildIdForParam].customParams[paramName] = '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            renderCustomParams(currentChildIdForParam, childrenData[currentChildIdForParam].customParams);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
            db.collection('children').doc(currentChildIdForParam).update({
                [`customParams.${paramName}`]: ''
            })
            .then(() => {
                addParamModal.style.display = 'none';
                document.getElementById('paramName').value = '';
            })
            .catch(error => alert(`–û—à–∏–±–∫–∞: ${error.message}`));
        }
        
function saveRecord(childId) {
    if (!childrenData[childId]) return;
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤–æ–∑—Ä–∞—Å—Ç –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    const childData = childrenData[childId];
    const birthDate = new Date(childData.birthdate);
    const today = new Date();
    let years = today.getFullYear() - birthDate.getFullYear();
    let months = today.getMonth() - birthDate.getMonth();
    let days = today.getDate() - birthDate.getDate();
    
    if (days < 0) {
        months--;
        days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
    }
    
    if (months < 0) {
        years--;
        months += 12;
    }
    
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
    const newRecord = {
        date: new Date().toISOString(),
        ageAtRecord: `${years}.${months}.${days}`,
        params: {
            height: childData.params.height || '',
            weight: childData.params.weight || '',
            shoeSize: childData.params.shoeSize || '',
            clothingSize: childData.params.clothingSize || ''
        },
        customParams: { ...childData.customParams }
    };
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    childrenData[childId].records = childrenData[childId].records || [];
    childrenData[childId].records.push(newRecord);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    db.collection('children').doc(childId).update({
        records: firebase.firestore.FieldValue.arrayUnion(newRecord)
    })
    .then(() => {
        renderHistory(childId, childrenData[childId].records);
        alert('–ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
    })
    .catch(error => {
        console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏:", error);
        alert(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ${error.message}`);
    });
}
        
function renderHistory(childId, records) {
    const container = document.getElementById(`history-${childId}`);
    container.innerHTML = '';
    
    if (!records || records.length === 0) {
        container.innerHTML = '<p>–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π</p>';
        return;
    }
    
    // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –º–∞—Å—Å–∏–≤–∞ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–Ω–µ –∏–∑–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª)
    const sortedRecords = [...records].sort((a, b) => 
        new Date(b.date) - new Date(a.date)
    );
    
    sortedRecords.forEach(record => {
        const recordDate = new Date(record.date);
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º date –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
        const recordId = record.date;
        
        const recordHtml = `
            <div class="history-item" data-record-id="${recordId}">
                <div class="history-header">
                    <div class="history-date">${formatDate(recordDate, true)}</div>
                    <button class="delete-history-btn" data-record-id="${recordId}">‚úï</button>
                </div>
                <div class="history-details">
                    <div class="history-params">
                        ${renderHistoryParams(record)}
                    </div>
                </div>
            </div>
        `;
        container.innerHTML += recordHtml;
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    container.addEventListener('click', function(e) {
        // –†–∞—Å–∫—Ä—ã—Ç–∏–µ/—Å–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª–µ–π
        if (e.target.closest('.history-header')) {
            const historyItem = e.target.closest('.history-item');
            const details = historyItem.querySelector('.history-details');
            details.style.display = details.style.display === 'block' ? 'none' : 'block';
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
        if (e.target.classList.contains('delete-history-btn')) {
            e.stopPropagation();
            const recordId = e.target.dataset.recordId;
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?')) {
                deleteHistoryRecord(childId, recordId);
            }
        }
    });
}

// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø–∏—Å–∏

function renderHistoryParams(record) {
    let html = '';
    
    // –í–æ–∑—Ä–∞—Å—Ç –±–µ–∑ –ø–æ–¥–ø–∏—Å–∏
    if (record.ageAtRecord) {
        html += `<div class="history-age">${record.ageAtRecord}</div>`;
    }
    
    const mainParams = {
        height: '–†–æ—Å—Ç, —Å–º',
        weight: '–í–µ—Å, –∫–≥',
        shoeSize: '–û–±—É–≤—å',
        clothingSize: '–û–¥–µ–∂–¥–∞'
    };
    
    // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    for (const [key, label] of Object.entries(mainParams)) {
        const value = record.params[key];
        if (value !== undefined && value !== null && value !== '') {
            html += `<div class="param-row">
                <span class="param-label">${label}:</span>
                <span class="param-value">${value}</span>
            </div>`;
        }
    }
    
    // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    for (const [key, value] of Object.entries(record.customParams || {})) {
        if (value !== undefined && value !== null && value !== '') {
            html += `<div class="param-row">
                <span class="param-label">${key}:</span>
                <span class="param-value">${value}</span>
            </div>`;
        }
    }
    
    return html || '<p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</p>';
}

// –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏
function deleteHistoryRecord(childId, recordId) {
    const childRef = db.collection('children').doc(childId);
    
    db.runTransaction((transaction) => {
        return transaction.get(childRef).then((doc) => {
            if (!doc.exists) {
                throw new Error('–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!');
            }
            
            const records = [...doc.data().records];
            // –ù–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å –∑–∞–ø–∏—Å–∏ –ø–æ ID (–¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è)
            const recordIndex = records.findIndex(r => r.date === recordId);
            
            if (recordIndex === -1) {
                throw new Error('–ó–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
            }
            
            // –£–¥–∞–ª—è–µ–º –∑–∞–ø–∏—Å—å
            records.splice(recordIndex, 1);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ–∫—É–º–µ–Ω—Ç
            transaction.update(childRef, { records: records });
            return recordIndex;
        });
    })
    .then((recordIndex) => {
        // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        const childRecords = childrenData[childId].records;
        const localIndex = childRecords.findIndex(r => r.date === recordId);
        
        if (localIndex !== -1) {
            childRecords.splice(localIndex, 1);
        }
        
        // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
        renderHistory(childId, childRecords);
        alert('–ó–∞–ø–∏—Å—å —É–¥–∞–ª–µ–Ω–∞!');
    })
    .catch((error) => {
        console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏:', error);
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å: ' + error.message);
    });
}

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function formatDate(date, short = false) {
    const day = date.getDate().toString().padStart(2, '0');
    const month = (date.getMonth() + 1).toString().padStart(2, '0');
    const year = date.getFullYear().toString();
    
    if (short) return `${day}.${month}.${year.slice(2)}`; // 13.09.89
    return `${day}.${month}.${year}`; // 13.09.1989
}
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        window.addEventListener('DOMContentLoaded', init);
        console.log("Firebase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:", firebase.app().name);

    </script>
    <footer style="text-align: center; padding: 20px; margin-top: 30px; font-size: 0.8rem; color: #666;">
    <div>
        <a href="/privacy-policy.html" style="margin-right: 15px;">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
        <a href="/terms-of-service.html">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
    </div>
    <p style="margin-top: 10px;">&copy; 2025 –î–µ—Ç—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</p>
    <p>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: Frupis_art | –ö–æ–Ω—Ç–∞–∫—Ç: fly4ik@yandex.ru</p>
</footer>
</body>
</html>